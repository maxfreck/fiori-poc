{"version":3,"file":"ChangeVisualization.js","names":["sap","ui","define","Core","Fragment","difference","deepEqual","JsControlTreeModifier","Control","OverlayRegistry","ElementUtil","PersistenceWriteAPI","Layer","FlUtils","ResourceModel","JSONModel","ChangeIndicator","ChangeIndicatorRegistry","ChangeCategories","ChangeStates","_onClick","oPopover","this","getPopover","isOpen","close","_isOverlayVisible","oOverlay","getDomRef","isVisible","ChangeVisualization","extend","metadata","library","properties","rootControlId","type","isActive","defaultValue","aggregations","popover","multiple","constructor","_oChangeIndicatorRegistry","changeCategories","getCategories","prototype","apply","arguments","_oTextBundle","getLibraryResourceBundle","setModel","bundle","_oChangeVisualizationModel","active","getIsActive","setDefaultBindingMode","_sSelectedChangeCategory","ALL","_bSetModeChanged","_fnOnClickHandler","bind","setVersionsModel","oToolbar","oVersionsModel","getModel","setRootControlId","sRootControlId","getRootControlId","_reset","setProperty","_getComponent","getAppComponentForControl","getElementInstance","setIsActive","bActiveState","_updateVisualizationModel","exit","destroy","_toggleRootOverlayClickHandler","updateAfterSave","getProperty","reset","_updateChangeRegistry","then","_selectChangeCategory","_selectChangeState","_updateVisualizationModelMenuData","_determineChangeVisibility","aRegisteredIndependentChanges","aAllRelevantChanges","sVisualizedChangeState","filterRelevantChanges","aChanges","filter","oChange","changeStates","includes","aHiddenChanges","aVisualizedChanges","bHasDraftChanges","bHasDirtyChanges","aAllRelevantChangeIds","map","id","forEach","DIRTY","DRAFT","getOverlay","visualizationInfo","displayElementIds","change","getId","push","aRelevantHiddenChanges","aRelevantVisualizedChanges","relevantHiddenChanges","relevantVisualizedChanges","hasDirtyChanges","hasDraftChanges","getData","changeState","aAllRegisteredChanges","getAllRegisteredChanges","getRelevantChangesWithSelector","dependent","oSortedChanges","aCommandData","Object","keys","sChangeCategoryName","sTitle","_getChangeCategoryLabel","_getChangesForChangeCategory","length","key","count","title","icon","getIconForCategory","unshift","popupInfoMessage","getText","sortedChanges","sChangeCategory","changeCategory","undefined","iChangesCount","sLabelKey","toUpperCase","_getChangeCategoryButton","sButtonKey","openChangeCategorySelectionPopover","oEvent","_oToolbarButton","byId","getParameter","load","name","createId","controller","addDependent","openBy","setPopover","onChangeCategorySelection","sSelectedChangeCategory","getSource","getBindingContext","getObject","onVersioningCategoryChange","sSelectedChangeState","getSelectedKey","sChangeCategoryText","changeCategoryText","_updateChangeIndicators","_setFocusedIndicator","_sSelectedChangeState","_getCommandForChange","sCommand","getSupportInformation","command","getSelector","oComponent","oSelectorControl","bySelector","oLastDependentSelector","getDependentSelectorList","slice","oLastDependentSelectorControl","searchForCommand","sAggregationName","oControl","getElement","getDesignTimeMetadata","getCommandName","getChangeType","oParentOverlay","getParentElementOverlay","oParentAggregationOverlay","getParentAggregationOverlay","getAggregationName","_collectChanges","mPropertyBag","selector","invalidateCache","includeCtrlVariants","currentLayer","CUSTOMER","includeDirtyChanges","onlyCurrentVariants","_getUIChanges","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","displayedVersion","aRegisteredChangeIds","getRegisteredChangeIds","oCurrentChanges","reduce","oChanges","aCurrentChangeIds","sChangeIdToRemove","removeRegisteredChange","aPromises","sChangeIdToAdd","oChangeToAdd","sCommandName","registerChange","Promise","all","selectChange","sChangeId","_selectChange","aDependentElements","getRegisteredChange","dependentElementIds","sElementId","oOverlayDomRef","scrollIntoView","block","classList","add","addEventListener","remove","once","oData","setData","assign","oSelectors","getSelectorsWithRegisteredChanges","oIndicators","sSelectorId","aChangesOnIndicator","aRelevantChanges","_filterRelevantChanges","some","oElementOverlay","affectedElementId","oRelevantContainer","getRelevantContainer","oOverlayPosition","getClientRects","left","top","posX","parseInt","posY","changes","oChangeIndicator","getChangeIndicator","sOverlayId","_createChangeIndicator","getOverlayId","setOverlayId","content","aChangeVizInfo","Array","isArray","oRootData","oChangeVizInfo","visible","overlayId","selectorId","bindElement","registerChangeIndicator","applyChanges","aVisibleIndicators","getChangeIndicators","oIndicator","getVisible","sort","oIndicator1","oIndicator2","iDeltaY","getPosY","iDeltaX","getPosX","aVisibleIndicatorsOnScrollPosition","iIndex","tabIndex","focus","bEnable","oRootOverlayDomRef","oRootOverlay","capture","removeEventListener","triggerModeChange","oRootControl","oMenuButton","getControl","versioningEnabled","versioningAvailable","adjustToolbarSectionWidths"],"sources":["ChangeVisualization-dbg.js"],"mappings":"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"}