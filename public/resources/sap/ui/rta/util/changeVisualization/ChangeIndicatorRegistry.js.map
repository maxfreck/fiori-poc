{"version":3,"file":"ChangeIndicatorRegistry.js","names":["sap","ui","define","includes","values","_omit","Log","ManagedObject","JsControlTreeModifier","ElementUtil","ChangesWriteAPI","FlUtils","ChangeCategories","ChangeStates","ChangeIndicatorRegistry","extend","metadata","properties","changeCategories","type","defaultValue","rootControlId","constructor","prototype","apply","this","arguments","_oRegisteredChanges","_oChangeIndicators","exit","reset","getAllRegisteredChanges","map","oChange","Object","assign","getRegisteredChangeIds","keys","getRegisteredChange","sChangeId","getSelectorsWithRegisteredChanges","oChangeIndicators","addSelector","sSelectorId","sAffectedElementId","oChangeIndicatorData","bDependent","undefined","push","id","change","getId","dependent","affectedElementId","descriptionPayload","visualizationInfo","forEach","displayElementIds","sId","iIndex","affectedElementIds","dependentElementIds","getRelevantChangesWithSelector","oSelectors","aRelevantChanges","aRelevantChangesForSelector","filter","concat","getChangeIndicator","getChangeIndicators","registerChange","sCommandName","oVersionsModel","oAppComponent","getAppComponentForControl","getElementInstance","getRootControlId","getVisualizationInfo","then","mChangeVisualizationInfo","aCategories","getChangeCategories","sChangeCategory","category","find","sChangeCategoryName","OTHER","aChangeStates","aDraftChangesList","getData","draftFilenames","getState","getDraftAndDirtyStates","DRAFT","ACTIVATED","commandName","changeCategory","changeStates","bind","getSelectorIds","aSelectorList","vSelector","oElement","bySelector","Boolean","getInfoFromChangeHandler","oInfoFromChangeHandler","mVisualizationInfo","aAffectedElementIds","affectedControls","getSelector","dependentControls","displayControls","updateRequired","oControl","getChangeHandler","changeType","getChangeType","element","modifier","layer","getLayer","oChangeHandler","getChangeVisualizationInfo","isSuccessfullyApplied","catch","vErr","error","Promise","resolve","registerChangeIndicator","oChangeIndicator","sKeyToRemove","removeRegisteredChange","oIndicator","destroy","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","length"],"sources":["ChangeIndicatorRegistry-dbg.js"],"mappings":"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"}