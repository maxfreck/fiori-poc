{"version":3,"file":"LREPSerializer.js","names":["sap","ui","define","ManagedObject","FlexCommand","AppDescriptorCommand","FlUtils","ElementUtil","Log","PersistenceWriteAPI","LREPSerializer","extend","metadata","library","associations","rootControl","type","properties","commandStack","aggregations","getRootControlInstance","vRootControl","getElementInstance","prototype","_lastPromise","Promise","resolve","setCommandStack","oCommandStack","this","getCommandStack","removeCommandExecutionHandler","_fnHandleCommandExecuted","setProperty","addCommandExecutionHandler","init","handleCommandExecuted","bind","exit","_isPersistedChange","oPreparedChange","_aPersistedChanges","indexOf","getId","oEvent","oParams","catch","then","aCommands","getSubCommands","command","undo","aRemovePromises","forEach","oCommand","getRuntimeOnly","oChange","getPreparedChange","oAppComponent","getAppComponent","push","remove","change","selector","all","aDescriptorCreateAndAdd","add","createAndStoreChange","needsReload","getAllExecutedCommands","some","saveCommands","mPropertyBag","oError","error","oRootControl","getRootControl","Error","save","skipUpdateCache","draft","saveAsDraft","layer","removeOtherLayerChanges","version","condenseAnyLayer","info","setSaved","removeAllCommands","_triggerUndoChanges","bRemoveChanges","aPromises","reverse","execPromiseQueueSequentially","clearCommandStack","detachCommandExecuted","attachCommandExecuted"],"sources":["LREPSerializer-dbg.js"],"mappings":"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"}