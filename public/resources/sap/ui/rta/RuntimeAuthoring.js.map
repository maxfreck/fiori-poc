{"version":3,"file":"RuntimeAuthoring.js","names":["sap","ui","define","capitalize","isPlainObject","UriParameters","Log","MessageBox","MessageToast","jQuery","ManagedObject","BusyIndicator","DesignTime","DOMUtil","ElementUtil","Overlay","OverlayRegistry","DtUtil","KeyCodes","Version","ContextBasedAdaptationsAPI","ControlPersonalizationWriteAPI","FeaturesAPI","PersistenceWriteAPI","ReloadInfoAPI","VersionsAPI","TranslationAPI","Layer","Settings","FlexUtils","JSONModel","Measurement","RtaAppVariantFeature","BaseCommand","LREPSerializer","CommandStack","ServicesIndex","FioriToolbar","FioriLikeToolbar","PersonalizationToolbar","StandaloneToolbar","ChangeVisualization","PluginManager","PopupManager","ReloadManager","ServiceEventBus","validateFlexEnabled","Utils","Device","STARTING","STARTED","STOPPED","FAILED","SERVICE_STARTING","SERVICE_STARTED","SERVICE_FAILED","RuntimeAuthoring","extend","metadata","library","associations","rootControl","type","properties","showToolbars","defaultValue","triggeredFromDialog","showWindowUnloadDialog","commandStack","flexSettings","layer","CUSTOMER","developerMode","mode","metadataScope","events","start","parameters","editablePluginsCount","stop","failed","error","selectionChange","selection","modeChanged","undoRedoStackModified","_sAppTitle","_dependents","_sStatus","_bNavigationModeWarningShown","constructor","apply","this","arguments","_mServices","_mUShellServices","_pElementModified","Promise","resolve","addDependent","getShowToolbars","getPopupManager","attachOpen","onPopupOpen","attachClose","onPopupClose","window","parent","startService","_loadUShellServicesPromise","getUShellServices","then","mUShellServices","setUShellServices","bind","needsRestart","sLayer","needsAutomaticStart","enableRestart","oRootControl","enableAutomaticStart","disableRestart","disableAutomaticStart","willRTAStartAfterReload","prototype","oObject","sName","bCreateGetter","getDependent","getId","createError","printf","getDependents","removeDependent","setPlugins","mPlugins","Error","getPluginManager","getPlugins","getDefaultPlugins","getFlexSettings","setFlexSettings","mFlexSettings","oUriParams","fromQuery","location","search","sUriLayer","get","Object","assign","toUpperCase","scenario","baseId","sLRepRootNamespace","buildLrepRootNamespace","projectId","rootNamespace","namespace","setRtaStyleClassName","setProperty","getLayer","getRootControlInstance","_oRootControl","getElementInstance","getRootControl","_getTextResources","getCore","getLibraryResourceBundle","oDesignTimePromise","vError","reject","initVersioning","initContextBasedAdaptations","handleReloadOnStart","selector","versioningEnabled","_oVersionsModel","getProperty","bReloadTriggered","oFlexInfoSession","getResetAndPublishInfoFromSession","bInitialResetEnabled","isResetEnabled","_oSerializer","getCommandStack","preparePlugins","handleElementModified","aPlugins","getPluginList","fnResolve","fnReject","_oDesignTime","scope","getMetadataScope","plugins","addOrRemoveStyleClass","addRootElement","getOverlayContainer","classList","add","USER","document","body","getSelectionManager","attachChange","oEvent","fireSelectionChange","getParameter","attachEventOnce","end","_oldUnloadHandler","onbeforeunload","_onUnload","undefined","getToolbarButtonsVisibility","createToolsMenu","onStackModified","style","getScrollbarWidth","setRta","getToolbar","show","browser","name","on","ffContextMenuHandler","fnKeyDown","onKeyDown","fnOnPersonalizationChangeCreation","onPersonalizationChangeCreation","attachChangeCreation","shouldValidateFlexEnabled","bShouldValidateFlexEnabled","fireStart","getEditableOverlaysCount","catch","destroy","fireFailed","showSaveConfirmation","bVersionEnabled","sWarningMessageKey","sSaveButtonTextKey","showMessageBox","titleKey","actionKeys","emphasizedActionKey","showCancel","bSkipSave","bSkipRestart","bUserCancelled","oReloadInfo","checkToolbarAndExecuteFunction","call","waitForPendingActions","canSave","sAction","Action","CANCEL","getText","clearCommandStack","checkReloadOnExit","isDraftAvailable","activeVersion","changesNeedReloadPromise","_bSavedChangesNeedReload","needsReload","oReturn","_serializeToLrep","fireStop","handleUrlParametersOnExit","showTechnicalError","remove","setCommandStack","oCommandStack","oOldCommandStack","detachModified","_oInternalCommandStack","oResult","attachModified","provideCommandStack","setMode","sNewMode","sCurrentMode","getMode","oTabHandlingPlugin","getPlugin","oSelectionPlugin","setEnabled","oChangeVisualization","getChangeVisualization","waitForSynced","triggerModeChange","handleStopCutPaste","setIsActive","toggleClass","querySelectorAll","forEach","oNode","cursor","_oToolbarControlsModel","fireModeChanged","setMetadataScope","sScope","aDependentKeys","keys","sDependentKey","sServiceName","stopService","off","detachChangeCreation","_oServiceEventBus","getSelection","restore","sMessageKey","sTitleKey","actions","OK","emphasizedAction","deleteChanges","undo","redo","canUndo","canRedo","save","bCondenseAnyLayer","bIsExit","bReloadNeeded","serializeAndSave","condenseAndSaveChanges","getShowWindowUnloadDialog","sUriParam","getInstance","oSettings","isCustomerSystem","oOpenedPopup","getParameters","getSource","isA","setColor","bringToFront","showMessageToast","duration","mOptions","sMessage","bAdd","oSerializer","all","isPublishAvailable","isSaveAsAvailable","isContextBasedAdaptationAvailable","getUShellService","oAppLifeCycle","mRunningApp","getCurrentApplication","homePage","aRtaFeaturesAvailability","bIsPublishAvailable","bIsSaveAsAvailable","bIsContextBasedAdaptationAvailable","bIsHomePage","publishAvailable","saveAsAvailable","contextBasedAdaptationAvailable","hide","sErrorMessage","userMessage","stack","message","status","oTextResources","sMsg","styleClass","getRtaStyleClassName","bBackEndDraftExists","bDraftDisplayed","Number","Draft","bCanUndo","_bUserDiscardedDraft","modifyStack","discardDraftConfirmed","bCanRedo","bCanSave","bWasSaved","getSaved","bTranslationRelevantDirtyChange","hasTranslationRelevantDirtyChanges","setDirtyChanges","hasDirtyChanges","bPersistedDataTranslatable","fireUndoRedoStackModified","vValue","waitForBusyPlugins","bMacintosh","os","macintosh","bFocusInsideOverlayContainer","contains","activeElement","bFocusInsideRtaToolbar","getDomRef","bFocusOnContextMenu","bFocusOnBody","bFocusInsideRenameField","getParents","length","bCtrlKey","metaKey","ctrlKey","keyCode","Z","shiftKey","altKey","stopPropagation","Y","saveOnly","fnCallback","bVersionsEnabled","bActivateVersion","mPropertyBag","removeOtherLayerChanges","condenseAnyLayer","sVersion","version","saveAsDraft","saveCommands","oToolbar","updateAfterSave","onActivate","sVersionTitle","isOldVersionDisplayed","activate","oSelector","sDisplayedVersion","control","title","displayedVersion","removeAllCommands","oError","onDiscardDraft","discardDraft","updateState","handleDiscard","removeDraft","triggerReload","onSwitchVersion","_sSwitchToVersion","YES","NO","switchVersion","loadVersionForApplication","versionSwitch","onPublishVersion","publish","initialize","oModel","_oContextBasedAdaptationsModel","mButtonsAvailability","bUserLayer","oProperties","rtaInformation","textResources","exit","publishVersion","modeChange","onModeChange","openChangeCategorySelectionPopover","isOriginalFioriToolbarAccessible","getFiori2Renderer","onFragmentLoaded","isKeyUserTranslationEnabled","aArguments","bTranslationAvailable","bAppVariantsAvailable","bExtendedOverview","isOverviewExtended","oUriParameters","fromURL","href","bVisualizationButtonVisible","has","modeSwitcher","enabled","translation","visible","appVariantMenu","overview","manageApps","saveAs","contextBasedAdaptation","actionsMenuButton","visualizationButton","oTranslationPromise","getSourceLanguages","aSourceLanguages","finally","oSaveAsPromise","isManifestSupported","bResult","setModel","getAppComponentForControl","reset","removeInfoSessionStorage","ignoreMaxLayerParameter","triggerHardReload","scheduleOnCreated","sNewControlID","onElementOverlayCreated","oNewOverlay","getElement","detachEvent","attachEvent","scheduleOnCreatedAndVisible","onGeometryChanged","oElementOverlay","getGeometry","onGeometryCheck","isRendered","scheduleRenameOnCreatedContainer","vAction","sNewContainerName","fnStartEdit","setSelected","startEdit","sNewContainerID","getCreatedContainerId","oContainerElementOverlay","getOverlay","createRenameCommand","compositeLastTwoCommands","oCommand","sContainerTitle","oDesignTimeMetadata","getDesignTimeMetadata","fnSelect","getData","select","pushAndExecute","indexOf","getKey","resolveServiceLocation","hasOwnProperty","replace","sServiceLocation","mService","exports","initPromise","require","fnServiceFactory","factory","wrapIntoPromise","oService","bIsDestroyed","service","Array","isArray","subscribe","unsubscribe","subscribeOnce","mExports","reduce","mResult","sKey","freeze","propagateError","getService"],"sources":["RuntimeAuthoring-dbg.js"],"mappings":";;;;;AAOAA,IAAIC,GAAGC,OAAO,CACb,8BACA,8BACA,8BACA,eACA,mBACA,qBACA,2BACA,4BACA,4BACA,uBACA,oBACA,wBACA,oBACA,4BACA,iBACA,yBACA,8BACA,iDACA,qDACA,kCACA,0CACA,oCACA,kCACA,qCACA,kBACA,8BACA,kBACA,8BACA,iCACA,gCACA,iCACA,oCACA,2BACA,2BACA,2BACA,+BACA,qCACA,gCACA,0DACA,gCACA,+BACA,gCACA,kCACA,sCACA,mBACA,iBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAAW,WACf,IAAIC,EAAU,UACd,IAAIC,EAAU,UACd,IAAIC,EAAS,SACb,IAAIC,EAAmB,mBACvB,IAAIC,EAAkB,kBACtB,IAAIC,EAAiB,iBAerB,IAAIC,EAAmB9C,EAAc+C,OAAO,8BAA+B,CAC1EC,SAAU,CAETC,QAAS,aACTC,aAAc,CAEbC,YAAa,CACZC,KAAM,8BAGRC,WAAY,CAEXC,aAAc,CACbF,KAAM,UACNG,aAAc,MAIfC,oBAAqB,CACpBJ,KAAM,UACNG,aAAc,OAIfE,uBAAwB,CACvBL,KAAM,UACNG,aAAc,MAIfG,aAAc,CACbN,KAAM,OAOPO,aAAc,CACbP,KAAM,SACNG,aAAc,CACbK,MAAO3C,EAAM4C,SACbC,cAAe,OAKjBC,KAAM,CACLX,KAAM,SACNG,aAAc,cAMfS,cAAe,CACdZ,KAAM,SACNG,aAAc,YAGhBU,OAAQ,CAEPC,MAAO,CACNC,WAAY,CACXC,qBAAsB,CACrBhB,KAAM,SAMTiB,KAAM,CAAC,EAGPC,OAAQ,CACPH,WAAY,CACXI,MAAO,CACNnB,KAAM,SAQT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"}