{"version":3,"file":"ActionExtractor.js","names":["sap","ui","define","difference","merge","Log","JsControlTreeModifier","ElementUtil","OverlayRegistry","DelegateMediatorAPI","AdditionalElementsUtils","Utils","ActionExtractor","loadKnownDefaultDelegateLibraries","aLoadLibraryPromises","aRequiredLibraries","getKnownDefaultDelegateLibraries","forEach","sLibrary","oLoadLibraryPromise","getCore","loadLibrary","async","then","Promise","resolve","catch","vError","warning","push","all","getAddViaDelegateActionData","mAction","oDesignTimeMetadata","oPlugin","hasChangeHandler","changeType","element","bHasChangeHandler","aggregationName","aggregation","addPropertyActionData","designTimeMetadata","action","delegateInfo","payload","delegate","instance","modelType","requiredLibraries","undefined","checkInvalidAddActions","bSibling","oSourceElementOverlay","mParents","getParents","parentOverlay","getDesignTimeMetadata","aAddODataPropertyActions","getActionDataFromAggregations","parent","length","error","getData","designtimeModule","aAddActions","mAddAction","getInvisibleElements","oParentOverlay","sAggregationName","oParentElement","getElement","aInvisibleElements","getAggregation","filter","oControl","oOverlay","getOverlay","hasStableId","oRelevantContainer","getRelevantContainer","oRelevantContainerOverlay","oOverlayToCheck","bAnyParentInvisible","getElementVisibility","getParentElementOverlay","this","map","oInvisibleElement","sourceAggregation","defaultGetAggregationName","oParent","oChild","sParentAggregationName","isValidAction","oCheckElementOverlay","bValidAction","relevantContainerOverlay","filterValidAddPropertyActions","aActions","aDefaultDelegateLibraries","fnFilterActions","aFilteredActions","oCheckElement","changeOnRelevantContainer","relevantContainer","getDelegateForControl","control","modifier","supportsDefault","supportsDefaultDelegate","mDelegateInfo","names","getRequiredLibrariesForDefaultDelegate","delegateName","Boolean","reduce","oPreviousActionsPromise","getRevealActionFromAggregations","aParents","_mReveal","aAggregationNames","aInvisibleChildren","aInvisibleChildrenPerAggregation","sAggregation","concat","call","bind","oInitialRevealObject","elements","controlTypeNames","mRevealPromise","oPreviousPromise","mInvisibleElement","mReveal","checkAndEnrichReveal","reveal","sTargetAggregation","mRevealAction","bRevealEnabled","oHasChangeHandlerPromise","sSourceAggregation","getAction","oRevealSelector","isElementValid","getAggregationName","oAggregationOverlay","getAggregationOverlay","checkTargetZone","bIncludeReveal","targetAggregation","mName","getName","getActions","bInvalidate","oDesignTime","sSiblingOrChild","_mAddActions","oRevealActionsPromise","_getRevealActions","oAddPropertyActionsPromise","_getAddViaDelegateActions","aAllActions","mAllActions","asSibling","asChild","getActionsOrUndef","mRevealCache","bIsSyncRegistered","attachEventOnce","findAllSiblingsInContainer","mCachedResult","getId","getChildren","isIgnored","mAggregatedReveal","oAction","oReturn","addViaDelegate"],"sources":["ActionExtractor-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,uCACA,sBACA,eACA,oDACA,wBACA,4BACA,0CACA,+DACA,oBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAYA,IAAIC,EAAkB,CAAC,EAEvB,SAASC,IACR,IAAIC,EAAuB,GAC3B,IAAIC,EAAqBN,EAAoBO,mCAC7CD,EAAmBE,QAAQ,SAASC,GACnC,IAAIC,EAAsBnB,IAAIC,GAAGmB,UAAUC,YAAYH,EAAU,CAAEI,MAAO,OACxEC,KAAK,WACL,OAAOC,QAAQC,QAAQP,EACxB,GACCQ,MAAM,SAASC,GACftB,EAAIuB,QAAQ,mCAAoCD,GAEhD,OAAOH,QAAQC,SAChB,GACDX,EAAqBe,KAAKV,EAC3B,GACA,OAAOK,QAAQM,IAAIhB,EACpB,CAEA,SAASiB,EAA4BC,EAASC,EAAqBC,GAClE,OAAOA,EAAQC,iBAAiBH,EAAQI,WAAYJ,EAAQK,SAC1Dd,KAAK,SAAUe,GACf,GAAIA,EAAmB,CACtB,MAAO,CACNC,gBAAiBP,EAAQQ,YACzBC,sBAAuB,CACtBC,mBAAoBT,EACpBU,OAAQX,EACRY,aAAc,CACbC,QAASb,EAAQY,aAAaC,SAAW,CAAC,EAC1CC,SAAUd,EAAQY,aAAaG,SAC/BC,UAAWhB,EAAQY,aAAaI,UAChCC,kBAAmBjB,EAAQY,aAAaK,oBAI5C,CACA,OAAOC,SACR,EACF,CAEA,SAASC,EAAuBC,EAAUC,EAAuBnB,GAChE,IAAIoB,EAAW5C,EAAwB6C,WAAWH,EAAUC,EAAuBnB,GACnF,IAAID,EAAsBqB,EAASE,eAAiBF,EAASE,cAAcC,wBAC3E,IAAIC,EAA2BzB,EAAsBA,EAAoB0B,8BAA8B,mBAAoBL,EAASM,QAAU,GAC9I,GAAIF,EAAyBG,OAAS,EAAG,CACxCxD,EAAIyD,MAAM,8DACP7B,EAAoB8B,UAAUC,iBAC9B,+DACJ,CACA,IAAIC,EAAchC,EAAsBA,EAAoB0B,8BAA8B,MAAOL,EAASM,QAAU,GACpHK,EAAYhD,QAAQ,SAASiD,GAC5B,GAAIA,EAAW,UAAW,CACzB7D,EAAIyD,MAAM,wDACP7B,EAAoB8B,UAAUC,iBAC9B,+DACJ,CACD,EACD,CAEA,SAASG,EAAsBC,EAAgBC,EAAkBnC,GAChE,IAAIoC,EAAiBF,EAAeG,aACpC,IAAKD,EAAgB,CACpB,MAAO,EACR,CAGA,IAAIE,EAAqBjE,EAAYkE,eAAeH,EAAgBD,EAAkBnC,GAASwC,OAAO,SAASC,GAC9G,IAAIC,EAAWpE,EAAgBqE,WAAWF,GAE1C,IAAKzC,EAAQ4C,YAAYF,GAAW,CACnC,OAAO,KACR,CAEA,IAAIG,EAAqBX,EAAeY,qBAAqB,MAC7D,IAAIC,EAA4BzE,EAAgBqE,WAAWE,GAC3D,IAAIG,EAAkBd,EACtB,IAAIe,EAAsB,MAE1B,EAAG,CACFA,GAAuBD,EAAgBE,uBACvC,GAAID,EAAqB,CACxB,KACD,CACA,GAAID,IAAoBD,EAA2B,CAClD,KACD,KAAO,CACNC,EAAkBA,EAAgBG,yBACnC,CACD,OAASH,GAET,GAAIC,EAAqB,CACxB,OAAO,IACR,CAEA,OAAOP,EAASQ,yBAA2B,KAC5C,EAAGE,MAEH,OAAOd,EAAmBe,IAAI,SAASC,GACtC,MAAO,CACNnD,QAASmD,EACTC,kBAAmBpB,EAErB,EACD,CAEA,SAASqB,EAA0BC,EAASC,GAC3C,OAAOA,EAAOC,sBACf,CAEA,SAASC,EAAcC,EAAsBzC,EAAUtB,EAASE,GAC/D,IAAI8D,EAAehE,EAAQI,YAAcF,EAAQ4C,YAAYiB,GAC7D,GAAIC,GAAgBD,IAAyBzC,EAAS2C,yBAA0B,CAE/ED,EAAe9D,EAAQ4C,YAAYxB,EAAS2C,yBAC7C,CACA,OAAOD,CACR,CAEA,SAASE,EAA8BC,EAAU7C,EAAUpB,EAASkE,GACnE,SAASC,EAAgBC,EAAkBtE,GAC1C,IAAIuE,EAAgBvE,EAAQwE,0BAA4BlD,EAASmD,kBAAoBnD,EAASM,OAC9F,IAAImC,EAAuBvF,EAAgBqE,WAAW0B,GACtD,IAAIP,EAAeF,EAAcC,EAAsBzC,EAAUtB,EAASE,GAC1E,GAAI8D,EAAc,CACjBhE,EAAQK,QAAUkE,EAClB,OAAO9F,EAAoBiG,sBAAsB,CAChDC,QAASrD,EAASmD,kBAClBG,SAAUtG,EACVuG,gBAAiB7E,EAAQ8E,0BAExBvF,KAAK,SAASwF,GACd,GAAIA,GAAiBA,EAAcC,OAASD,EAAcC,MAAMnD,OAAQ,CACvE,IAAI9C,EAAqBN,EAAoBwG,uCAAuC,CACnFC,aAAcH,EAAcC,MAC5BL,QAASrD,EAASmD,oBAInB,GACCtG,EACCY,EACAqF,EAA0B1B,OAAOyC,UAChCtD,SAAW,EACZ,CACD7B,EAAQY,aAAemE,EACvBT,EAAiBzE,KAAKG,EACvB,CACD,CACA,OAAOsE,CACR,EACF,CACA,OAAOA,CACR,CAEA,OAAOH,EAASiB,OAAO,SAAUC,EAAyBrF,GACzD,OAAOqF,EACL9F,KAAK,SAAS+E,GACd,OAAOD,EAAgBC,EAAkBtE,EAC1C,EACF,EAAGR,QAAQC,QAAQ,IACpB,CAGA,SAAS6F,EAAgCC,EAAUC,EAAUnD,EAAkBoD,EAAmBvF,GACjG,IAAIsC,EAAqB+C,EAASH,OAAO,SAASM,EAAoBtD,GACrE,IAAIuD,EAAmC,GACvCF,EAAkBxG,QAAQ,SAAS2G,GAClCD,EAAmCA,EAAiCE,OAAO1D,EAAqB2D,KAAKxC,KAAMlB,EAAgBwD,EAAc1F,GAC1I,EAAE6F,KAAKzC,MAAO,IACd,OAAOlB,EAAiBsD,EAAmBG,OAAOF,GAAoCD,CACvF,EAAEK,KAAKzC,MAAO,IAEd,IAAI0C,EAAuB,CAC1BC,SAAU,GACVC,iBAAkB,IAEnB,IAAIC,EAAiB3D,EAAmB4C,OAAO,SAASgB,EAAkBC,GACzE,OAAOD,EAAiB7G,KAAK,SAAS+G,GACrC,OAAOC,EAAqBD,EAASD,EAAmBnG,EAASmC,EAClE,EACD,EAAG7C,QAAQC,QAAQuG,IAEnB,OAAOG,EAAe5G,KAAK,SAAS+G,GACnC,GAAIA,EAAQL,SAASpE,OAAS,EAAG,CAChC2D,EAASnD,GAAoB,CAC5BmE,OAAQF,EAEV,CACA,OAAOd,CACR,EACD,CAEA,SAASe,EAAqBD,EAASD,EAAmBnG,EAASuG,GAClE,IAAIjD,EAAoB6C,EAAkBhG,QAC1C,IAAIJ,EACJ,IAAIyG,EACJ,IAAIC,EAAiB,MACrB,IAAIC,EAA2BpH,QAAQC,QAAQ,OAC/C,IAAIoH,EAAqBR,EAAkB5C,kBAE3C,IAAIb,EAAWpE,EAAgBqE,WAAWW,GAC1C,GAAIZ,EAAU,CACb3C,EAAsB2C,EAASnB,wBAE/BiF,EAAgBzG,GAAuBA,EAAoB6G,UAAU,SAAUtD,GAC/E,GAAIkD,GAAiBA,EAActG,WAAY,CAC9C,IAAI2G,EAAkBvD,EACtB,GAAIkD,EAAclC,0BAA2B,CAC5CuC,EAAkBnE,EAASI,sBAC5B,CAEA4D,EAA2B1G,EAAQC,iBAAiBuG,EAActG,WAAY2G,GAAiBxH,KAAK,SAASe,GAE5G,GAAI/B,EAAYyI,eAAexD,GAAoB,CAClD,IAAIlC,EAAW5C,EAAwB6C,WAAW,KAAMqB,EAAU1C,GAClE,GAAII,EAAmB,CACtB,GAAIoG,EAAclC,0BAA2B,CAE5CmC,EAAiBzG,EAAQ4C,YAAYxB,EAAS2C,2BAC1C/D,EAAQ4C,YAAYxB,EAASE,cAClC,KAAO,CACNmF,EAAiB,IAClB,CACA,IAAKD,EAAcO,mBAAoB,CACtCP,EAAcO,mBAAqBvD,CACpC,CAGA,GAAIiD,GAAmBE,IAAuBJ,EAAqB,CAClE,IAAIS,EAAsB5F,EAASE,cAAc2F,sBAAsBV,GACvE,OAAO9H,EAAMyI,gBAAgBF,EAAqBtE,EAAU1C,EAC7D,CACD,CACD,CACA,OAAOyG,CACR,EACD,CACD,CAEA,OAAOC,EAAyBrH,KAAK,SAAS8H,GAC7C,GAAIA,EAAgB,CACnBf,EAAQL,SAASpG,KAAK,CACrBQ,QAASmD,EACT9C,mBAAoBT,EACpBU,OAAQ+F,EACRjD,kBAAmBoD,EACnBS,kBAAmBb,IAEpB,IAAIc,EAAQtH,EAAoBuH,QAAQhE,GACxC,GAAI+D,EAAO,CACVjB,EAAQJ,iBAAiBrG,KAAK0H,EAC/B,CACD,CACA,OAAOjB,CACR,EACD,CAgCA1H,EAAgB6I,WAAa,SAASrG,EAAUC,EAAuBnB,EAASwH,EAAaC,GAC5F,IAAIC,EAAkBxG,EAAW,YAAc,UAC/C,IAAKsG,GAAerG,EAAsBwG,aAAc,CACvD,OAAOrI,QAAQC,QAAQ4B,EAAsBwG,aAAaD,GAC3D,CAEA,IAAIE,EAAwBxE,KAAKyE,kBAAkB3G,EAAUC,EAAuBnB,EAASyH,GAC7F,IAAIK,EAA6B1E,KAAK2E,0BAA0B7G,EAAUC,EAAuBnB,GAEjG,OAAOV,QAAQM,IAAI,CAClBgI,EACAE,EACA7G,EAAuBC,EAAUC,EAAuBnB,KACtDX,KAAK,SAAS2I,GAEhB,IAAIC,EAAc/J,EAAM8J,EAAY,GAAIA,EAAY,IACpD7G,EAAsBwG,aAAexG,EAAsBwG,cAAgB,CAACO,UAAW,CAAC,EAAGC,QAAS,CAAC,GACrGhH,EAAsBwG,aAAaD,GAAmBO,EACtD,OAAOA,CACR,EACD,EAQAvJ,EAAgB0J,kBAAoB,SAASlH,EAAUwB,GACtD,IAAIgF,EAAkBxG,EAAW,YAAc,UAC/C,OAAOwB,EAASiF,cAAgBjF,EAASiF,aAAaD,EACvD,EAEA,IAAIW,EAAe,CAAC,EACpB,IAAIC,EAAoB,KAUxB5J,EAAgBmJ,kBAAoB,SAAS3G,EAAUC,EAAuBnB,EAASyH,GACtF,GAAIa,EAAmB,CACtBA,EAAoB,MACpBb,EAAYc,gBAAgB,SAAU,WACrCF,EAAe,CAAC,EAChBC,EAAoB,IACrB,EAAGlF,KACJ,CAEA,IAAIhC,EAAW5C,EAAwB6C,WAAWH,EAAUC,EAAuBnB,GACnF,IAAIqF,EAAW,CAACjE,EAASE,eACzB,GAAIF,EAASmD,oBAAsBnD,EAASM,OAAQ,CACnD2D,EAAWhH,EAAYmK,2BAA2BpH,EAASM,OAAQN,EAASmD,mBAAmBlB,IAAI,SAASI,GAC3G,OAAOnF,EAAgBqE,WAAWc,EACnC,GAAGjB,OAAO,SAAUE,GACnB,OAAOA,CACR,EACD,CACA,IAAI6C,EAAoB,GACxB,GAAInE,EAASE,cAAe,CAC3B,IAAImH,EAAgBJ,EAAajH,EAASE,cAAcoH,SACxD,GAAID,GAAiBvH,EAAU,CAC9B,OAAOuH,CACR,CACAlD,EAAoBnE,EAASE,cAAcqH,cAAcnG,OAAO,SAASwE,GACxE,OAAQA,EAAoBzF,wBAAwBqH,UAAUxH,EAASM,OACxE,GAAG2B,IAAI,SAAS2D,GACf,OAAOA,EAAoBD,oBAC5B,GACA,OAAOxB,EAAkBL,OAAO,SAASgB,EAAkB/D,GAC1D,OAAO+D,EAAiB7G,KAAK,SAAS+G,GACrC,OAAOhB,EAAgCC,EAAUe,EAASjE,EAAkBoD,EAAmBvF,EAChG,EACD,EAAGV,QAAQC,QAAQ,CAAC,IAClBF,KAAK,SAASwJ,GACd,GAAI3H,EAAU,CACbmH,EAAajH,EAASE,cAAcoH,SAAWG,CAChD,CACA,OAAOA,CACR,EACF,CACA,OAAOvJ,QAAQC,QAAQ,CAAC,EACzB,EAUAb,EAAgBqJ,0BAA4B,SAAS7G,EAAUC,EAAuBnB,GACrF,IAAIoB,EAAW5C,EAAwB6C,WAAWH,EAAUC,EAAuBnB,GACnF,IAAID,EAAsBqB,EAASE,eAAiBF,EAASE,cAAcC,wBAC3E,OAAOjC,QAAQC,UACbF,KAAK,WACL,IAAI4E,EAAWlE,EAAsBA,EAAoB0B,8BAA8B,MAAOL,EAASM,OAAQV,UAAW,YAAc,GACxI,GAAIiD,EAAStC,OAAQ,CACpB,OAAOhD,IACLU,KAAK2E,EAA8B6B,KAAKzC,KAAMa,EAAU7C,EAAUpB,GACrE,CACA,MAAO,EACR,EAAE6F,KAAKzC,OACN/D,KAAK,SAAS4E,GACd,OAAOA,EAASiB,OAAO,SAAUgB,EAAkB4C,GAClD,OAAO5C,EACL7G,KAAK,SAAU0J,GACf,OAAOlJ,EAA4B+F,KAAKxC,KAAM0F,EAAS/I,EAAqBC,GAC1EX,KAAK,SAAUS,GACf,GAAIA,EAAS,CACZA,EAAQS,sBAAsBgE,kBAAoBnD,EAASmD,kBAC3D,IAAKwE,EAAQjJ,EAAQO,iBAAkB,CACtC0I,EAAQjJ,EAAQO,iBAAmB,CAAC,CACrC,CACA0I,EAAQjJ,EAAQO,iBAAiB2I,eAAiBlJ,EAAQS,qBAC3D,CACA,OAAOwI,CACR,EACF,EAAElD,KAAKzC,MACT,EAAEyC,KAAKzC,MAAO9D,QAAQC,QAAQ,CAAC,GAChC,EAAEsG,KAAKzC,MACT,EAEA,OAAO1E,CACR"}