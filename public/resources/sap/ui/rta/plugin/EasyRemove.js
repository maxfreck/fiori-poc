/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/rta/plugin/Remove","sap/m/Button"],function(e,t){"use strict";var a=e.extend("sap.ui.rta.plugin.EasyRemove",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});a.prototype.registerElementOverlay=function(t){var a=t.getElement();if(a.getMetadata().getName()==="sap.uxap.ObjectPageSection"&&this.hasStableId(t)){t.addStyleClass("sapUiRtaPersDelete")}var r=Array.from(t.getDomRef().querySelectorAll(":scope > .sapUiRtaPersDeleteClick"));if(t.hasStyleClass("sapUiRtaPersDelete")&&r.length===0){var n=function(e){this.handler([e])}.bind(this);var o=this._addButton(t);o.attachBrowserEvent("contextmenu",function(e){e.stopPropagation();e.preventDefault()});var s=function(e){var t=sap.ui.getCore().byId(e.currentTarget.id.replace("-DeleteIcon",""));n(t);e.stopPropagation();e.preventDefault()};o.attachBrowserEvent("click",s).attachBrowserEvent("tap",s)}e.prototype.registerElementOverlay.apply(this,arguments)};a.prototype._isEditable=function(t){if(t._oDeleteButton){t._oDeleteButton.setEnabled(this.isEnabled([t]))}return e.prototype._isEditable.apply(this,arguments)};a.prototype._addButton=function(e){var a=this.isEnabled([e]);var r=e.getId()+"-DeleteIcon";var n=document.createElement("div");n.classList.add("sapUiRtaPersDeleteClick");n.setAttribute("draggable","true");var o=document.createElement("div");o.classList.add("sapUiRtaPersDeleteIconOuter");e._oDeleteButton=new t(r,{icon:"sap-icon://less",tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.ui.rta").getText("CTX_REMOVE"),enabled:a}).placeAt(o);n.append(o);e.getDomRef().append(n);n.addEventListener("dragstart",function(e){e.stopPropagation();e.preventDefault()});return e._oDeleteButton};a.prototype.deregisterElementOverlay=function(t){var a=t.getElement();if(a.getMetadata().getName()==="sap.uxap.ObjectPageSection"){t.removeStyleClass("sapUiRtaPersDelete");if(t._oDeleteButton){t._oDeleteButton.destroy()}}e.prototype.deregisterElementOverlay.apply(this,arguments)};return a});
//# sourceMappingURL=EasyRemove.js.map