{"version":3,"file":"RenameHandler.js","names":["sap","ui","define","jQuery","Device","Plugin","validateText","Overlay","ElementUtil","OverlayRegistry","Utils","DOMUtil","KeyCodes","OverlayUtil","sEmptyTextKey","RenameHandler","errorStyleClass","_manageClickEvent","vEventOrElement","oOverlay","getSource","isSelected","this","isRenameAvailable","isRenameEnabled","attachBrowserEvent","_onClick","detachBrowserEvent","_setEditableFieldPosition","_oEditableField","offset","left","getOffset","_oEditableControlDomRef","top","_oEditedOverlay","setSelected","focus","startEdit","mPropertyBag","setBusy","overlay","oElement","getElement","oDesignTimeMetadata","getDesignTimeMetadata","oEditableControlDomRef","getAssociatedDomRef","domRef","isElementInViewport","get","scrollIntoView","mMutators","getTextMutators","getText","textContent","bind","setText","sNewText","_fnGetControlText","_fnSetControlText","iWidthDifference","oOverlayForWrapper","getOverlay","jquery","id","_oControlForWrapperDomRef","getDomRef","_oEditableControlParentDomRef","parentNode","iControlForWrapperWidth","parseInt","offsetWidth","isNaN","iEditableControlWidth","iEditableControlParentWidth","aCHildren","Array","from","children","aVisibleChildren","filter","oNode","isVisible","length","_oWrapperDomRef","document","createElement","classList","add","style","whiteSpace","overflow","width","append","_oEditableFieldDomRef","setAttribute","sCurrentText","setOldValue","_getCurrentEditableFieldText","call","copyComputedStyle","lastElementChild","removeChild","visibility","userSelect","textOverflow","browser","name","getMetadata","getName","lineHeight","getMutationObserver","ignoreOnce","target","_FocusHandler","_onEditableFieldFocus","_oBlurHandler","_onEditableFieldBlur","_oKeyDownHandler","_onEditableFieldKeydown","_oStopPropagationHandler","_stopPropagation","addEventListener","once","apply","_aOverlaysWithScrollbar","findParentOverlaysWithScrollbar","forEach","oOverlayWithScrollbar","attachScrollSynced","getCore","getEventBus","publish","pluginMethodName","editableField","_setDesignTime","oDesignTime","_aSelection","oOldDesignTime","getDesignTime","getSelectionManager","detachChange","_onDesignTimeSelectionChange","prototype","setDesignTime","arguments","attachChange","getSelectedOverlays","oEvent","aSelection","getParameter","stopPropagation","_preventDefault","preventDefault","el","range","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","_stopEdit","bRestoreFocus","sPluginMethodName","removeEventListener","detachScrollSynced","oEditField","querySelector","remove","_bBlurOrKeyDownStarted","_handlePostRename","removeStyleClass","Promise","resolve","then","_validateNewText","_emitLabelChangeEvent","catch","oError","message","fnErrorHandler","stopEdit","_handleInvalidRename","sErrorMessage","showMessageBox","titleKey","setIgnoreEnterKeyUpOnce","addStyleClass","oResponsibleOverlay","getResponsibleElementOverlay","oRenameAction","getAction","getOldValue","keyCode","ENTER","ESCAPE","DELETE","BACKSPACE","sText","trim","byId","currentTarget","metaKey","ctrlKey","shiftKey","_exit"],"sources":["RenameHandler-dbg.js"],"mappings":";;;;;AAOAA,IAAIC,GAAGC,OAAO,CACb,2BACA,gBACA,2BACA,+BACA,oBACA,wBACA,4BACA,mBACA,oBACA,yBACA,yBACE,SACFC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAGA,IAAIC,EAAgB,IAepB,IAAIC,EAAgB,CAEnBC,gBAAiB,kBAKjBC,kBAAmB,SAAUC,GAC5B,IAAIC,EAAWD,EAAgBE,UAAYF,EAAgBE,YAAcF,EACzE,GAAIC,EAASE,cAAgBC,KAAKC,kBAAkBJ,IAAaG,KAAKE,gBAAgB,CAACL,IAAY,CAClGA,EAASM,mBAAmB,QAASV,EAAcW,SAAUJ,KAC9D,KAAO,CACNH,EAASQ,mBAAmB,QAASZ,EAAcW,SAAUJ,KAC9D,CACD,EAEAM,0BAA2B,WAC1B,GAAIN,KAAKO,gBAAiB,CACzB1B,OAAOmB,KAAKO,iBAAiBC,OAAO,CAACC,KAAMpB,EAAQqB,UAAUV,KAAKW,yBAAyBF,OAC3F5B,OAAOmB,KAAKO,iBAAiBC,OAAO,CAACI,IAAKvB,EAAQqB,UAAUV,KAAKW,yBAAyBC,MAC1FZ,KAAKa,gBAAgBC,YAAY,MACjCd,KAAKO,gBAAgBQ,OACtB,CACD,EAMAC,UAAW,SAAUC,GACpBjB,KAAKkB,QAAQ,MACblB,KAAKa,gBAAkBI,EAAaE,QAEpC,IAAIC,EAAWH,EAAaE,QAAQE,aAEpC,IAAIC,EAAsBtB,KAAKa,gBAAgBU,wBAE/C,IAAIC,EAAyBF,EAAoBG,oBAAoBL,EAAUH,EAAaS,QAG5F,IAAKtC,EAAMuC,oBAAoBH,GAAyB,CACvDA,EAAuBI,IAAI,GAAGC,gBAC/B,CAEA7B,KAAKW,wBAA0Ba,EAAuBI,IAAI,GAC1D,IAAIE,SAAmBb,EAAac,kBAAoB,WACrDd,EAAac,gBAAgBX,GAC7B,CACDY,QAAS,WACR,OAAOhC,KAAKW,wBAAwBsB,WACrC,EAAEC,KAAKlC,MACPmC,QAAS,SAAUC,GAClBpC,KAAKW,wBAAwBsB,YAAcG,CAC5C,EAAEF,KAAKlC,OAETA,KAAKqC,kBAAoBP,EAAUE,QACnChC,KAAKsC,kBAAoBR,EAAUK,QACnC,IAAII,EAAmB,EAGvB,IAAIC,EAAqBrD,EAAgBsD,WACxCjB,EAAuBkB,OACpBlB,EAAuBI,IAAI,GAAGe,GAC9BnB,EAAuBmB,IAK3B,IAAKH,EAAoB,CACxBA,EAAqBxC,KAAKa,gBAC1B,IAAI+B,EAA4B1D,EAAY2D,UAAUzB,GACtD,IAAI0B,EAAgC9C,KAAKW,wBAAwBoC,WACjE,IAAIC,EAA0BJ,EAA4BK,SAASL,EAA0BM,aAAe,MAE5G,IAAKC,MAAMH,GAA0B,CACpC,IAAII,EAAwBH,SAASjD,KAAKW,wBAAwBuC,aAClE,IAAIG,EAA8BJ,SAASH,EAA8BI,aAEzEX,EAAmBS,EAA0BI,EAE7C,IAAIE,EAAYC,MAAMC,KAAKV,EAA8BW,UACzD,IAAIC,EAAmBJ,EAAUK,OAAO,SAASC,GAChD,OAAOvE,EAAQwE,UAAUD,EAC1B,GAEA,GAAIrB,EAAmB,GAAKc,EAA6B,CACxD,GAAIP,EAA8BH,KAAOC,EAA0BD,IAC/De,EAAiBI,SAAW,GAC5BJ,EAAiB,GAAGf,KAAO3C,KAAKW,wBAAwBgC,IACxDK,EAA0BK,EAA6B,CAC1Dd,EAAmBS,EAA0BK,CAC9C,KAAO,CACNd,EAAmB,CACpB,CACD,CACD,CACD,CAEA,IAAIwB,EAAkBC,SAASC,cAAc,OAC7CF,EAAgBG,UAAUC,IAAI,yBAC9BJ,EAAgBK,MAAMC,WAAa,SACnCN,EAAgBK,MAAME,SAAW,SACjCP,EAAgBK,MAAMG,MAAQ,gBAAkBhC,EAAmB,OACnEC,EAAmBK,YAAY2B,OAAOT,GACtC,IAAIU,EAAwBT,SAASC,cAAc,OACnDQ,EAAsBC,aAAa,kBAAmB,QACtDX,EAAgBS,OAAOC,GACvBzE,KAAKO,gBAAkBkE,EAGvB,IAAIE,EAAe3E,KAAKqC,oBACxB,GAAIsC,IAAiB,GAAI,CACxB3E,KAAKsC,kBAAkB,OACvBtC,KAAKO,gBAAgB0B,YAAc,EACpC,KAAO,CACNjC,KAAKO,gBAAgB0B,YAAc0C,CACpC,CAEA3E,KAAK4E,YAAYnF,EAAcoF,6BAA6BC,KAAK9E,OAEjEX,EAAQ0F,kBAAkB/E,KAAKW,wBAAyBX,KAAKO,iBAC7D,MAAOP,KAAKO,gBAAgByE,iBAAkB,CAC7ChF,KAAKO,gBAAgB0E,YAAYjF,KAAKO,gBAAgByE,iBACvD,CAEAhF,KAAKO,gBAAgB6D,MAAMc,WAAa,SACxClF,KAAKO,gBAAgB6D,MAAM,oBAAsB,aACjDpE,KAAKO,gBAAgB6D,MAAM,uBAAyB,aACpDpE,KAAKO,gBAAgB6D,MAAM,mBAAqB,aAChDpE,KAAKO,gBAAgB6D,MAAM,eAAiB,aAC5CpE,KAAKO,gBAAgB6D,MAAMe,WAAa,OACxCnF,KAAKO,gBAAgB6D,MAAM,uBAAyB,OACpDpE,KAAKO,gBAAgB6D,MAAMgB,aAAe,OAC1CpF,KAAKO,gBAAgB6D,MAAMC,WAAa,SAGxC,GACCvF,EAAOuG,QAAQC,OAAS,MACrBlE,EAASmE,cAAcC,YAAc,uCACvC,CACDxF,KAAKO,gBAAgB6D,MAAMqB,WAAa,QACzC,CAEAxG,EAAQyG,sBAAsBC,WAAW,CACxCC,OAAQ5F,KAAKW,0BAGdX,KAAK6F,cAAgBpG,EAAcqG,sBAAsB5D,KAAKlC,MAC9DA,KAAK+F,cAAgBtG,EAAcuG,qBAAqB9D,KAAKlC,MAC7DA,KAAKiG,iBAAmBxG,EAAcyG,wBAAwBhE,KAAKlC,MACnEA,KAAKmG,yBAA2B1G,EAAc2G,iBAAiBlE,KAAKlC,MAEpEA,KAAKO,gBAAgB8F,iBAAiB,QAASrG,KAAK6F,cAAe,CAACS,KAAM,OAC1EtG,KAAKO,gBAAgB8F,iBAAiB,OAAQrG,KAAK+F,eACnD/F,KAAKO,gBAAgB8F,iBAAiB,UAAWrG,KAAKiG,kBACtDjG,KAAKO,gBAAgB8F,iBAAiB,YAAarG,KAAKmG,0BACxDnG,KAAKO,gBAAgB8F,iBAAiB,OAAQrG,KAAKmG,0BACnDnG,KAAKO,gBAAgB8F,iBAAiB,UAAWrG,KAAKmG,0BACtDnG,KAAKO,gBAAgB8F,iBAAiB,QAASrG,KAAKmG,0BACpDnG,KAAKO,gBAAgB8F,iBAAiB,YAAarG,KAAKmG,0BAExDnG,KAAKW,wBAAwByD,MAAMc,WAAa,SAChDrG,OAAOkF,GAAiBvD,OAAO,CAACC,KAAMpB,EAAQqB,UAAUV,KAAKW,yBAAyBF,OACtFhB,EAAca,0BAA0BiG,MAAMvG,MAC9CA,KAAKO,gBAAgB6D,MAAMc,WAAa,GACxClF,KAAKO,gBAAgBQ,QAIrBf,KAAKwG,wBAA0BjH,EAAYkH,gCAAgCjE,GAC3ExC,KAAKwG,wBAAwBE,QAAQ,SAASC,GAC7CA,EAAsBC,mBAAmBnH,EAAca,0BAA2BN,KACnF,EAAEkC,KAAKlC,OAGPiB,EAAaE,QAAQL,YAAY,MACjCpC,IAAIC,GAAGkI,UAAUC,cAAcC,QAAQ,aAAc9F,EAAa+F,iBAAkB,CACnF7F,QAASF,EAAaE,QACtB8F,cAAejH,KAAKO,iBAEtB,EAEA2G,eAAgB,SAAUC,GACzBnH,KAAKoH,YAAc,GACnB,IAAIC,EAAiBrH,KAAKsH,gBAE1B,GAAID,EAAgB,CACnBA,EAAeE,sBAAsBC,aAAa/H,EAAcgI,6BAA8BzH,KAC/F,CACAjB,EAAO2I,UAAUC,cAAcpB,MAAMvG,KAAM4H,WAE3C,GAAIT,EAAa,CAChBA,EAAYI,sBAAsBM,aAAapI,EAAcgI,6BAA8BzH,MAC3FA,KAAKoH,YAAcpH,KAAK8H,qBACzB,CACD,EAKAL,6BAA8B,SAASM,GACtC,IAAIC,EAAaD,EAAOE,aAAa,aAGrCjI,KAAKoH,YAAYV,QAAQjH,EAAcE,kBAAmBK,MAE1DgI,EAAWtB,QAAQjH,EAAcE,kBAAmBK,MAEpDA,KAAKoH,YAAcY,CACpB,EAMA5B,iBAAkB,SAAU2B,GAC3BA,EAAOG,iBACR,EAMAC,gBAAiB,SAAUJ,GAC1BA,EAAOK,gBACR,EAMAtC,sBAAuB,SAAUiC,GAChC,IAAIM,EAAKN,EAAOnC,OAChB,IAAI0C,EAAQtE,SAASuE,cACrBD,EAAME,mBAAmBH,GACzB,IAAII,EAAMC,OAAOC,eACjBF,EAAIG,kBACJH,EAAII,SAASP,EACd,EAOAQ,UAAW,SAAUC,EAAeC,GACnC,IAAInJ,EACJG,KAAKkB,QAAQ,OACblB,KAAKO,gBAAgB0I,oBAAoB,OAAQjJ,KAAK+F,eACtD/F,KAAKO,gBAAgB0I,oBAAoB,QAASjJ,KAAK6F,eACvD7F,KAAKO,gBAAgB0I,oBAAoB,UAAWjJ,KAAKiG,kBACzDjG,KAAKO,gBAAgB0I,oBAAoB,YAAajJ,KAAKmG,0BAC3DnG,KAAKO,gBAAgB0I,oBAAoB,OAAQjJ,KAAKmG,0BACtDnG,KAAKO,gBAAgB0I,oBAAoB,UAAWjJ,KAAKmG,0BACzDnG,KAAKO,gBAAgB0I,oBAAoB,QAASjJ,KAAKmG,0BACvDnG,KAAKO,gBAAgB0I,oBAAoB,YAAajJ,KAAKmG,0BAG3D,GAAInG,KAAKqC,sBAAwB,MAAO,CACvCrC,KAAKsC,kBAAkB,GACxB,CAEArD,EAAQyG,sBAAsBC,WAAW,CACxCC,OAAQ5F,KAAKW,0BAEdX,KAAKW,wBAAwByD,MAAMc,WAAa,UAEhD,GAAI6D,EAAe,CAClBlJ,EAAWG,KAAKa,gBAChBhB,EAASiB,YAAY,MACrBjB,EAASkB,OACV,CAEAf,KAAKwG,wBAAwBE,QAAQ,SAASC,GAC7CA,EAAsBuC,mBAAmBzJ,EAAca,0BAA2BN,KACnF,EAAEkC,KAAKlC,cACAA,KAAKO,gBACZ,IAAI4I,EAAanJ,KAAKa,gBAAgBgC,aAAe7C,KAAKa,gBAAgBgC,YAAYuG,cAAc,0BACpG,GAAID,EAAY,CACfA,EAAWE,QACZ,QACOrJ,KAAKW,+BACLX,KAAKa,uBACLb,KAAKsJ,8BACLtJ,KAAKqC,yBACLrC,KAAKsC,kBAEZ5D,IAAIC,GAAGkI,UAAUC,cAAcC,QAAQ,aAAciC,EAAmB,CACvE7H,QAAStB,GAEX,EAEAmG,qBAAsB,SAAU+B,GAC/B,OAAOtI,EAAc8J,kBAAkBzE,KAAK9E,KAAM,MAAO+H,EAC1D,EAEAwB,kBAAmB,SAAUR,EAAehB,GAC3C,IAAK/H,KAAKsJ,uBAAwB,CACjCtJ,KAAKa,gBAAgB2I,iBAAiB/J,EAAcC,iBACpDM,KAAKsJ,uBAAyB,KAC9B,GAAIvB,EAAQ,CACXtI,EAAc0I,gBAAgBrD,KAAK9E,KAAM+H,GACzCtI,EAAc2G,iBAAiBtB,KAAK9E,KAAM+H,EAC3C,CACA,OAAO0B,QAAQC,UACdC,KAAKlK,EAAcmK,iBAAiB1H,KAAKlC,OACzC2J,KAAK3J,KAAK6J,sBAAsB3H,KAAKlC,OACrC8J,MAAM,SAASC,GACf,GAAIA,EAAOC,UAAY,gBAAiB,CACvC,MACD,CACA,MAAMD,CACP,GACCJ,KAAK,SAAUM,GACfjK,KAAKkK,SAASnB,GAEd,UAAWkB,IAAmB,WAAY,CACzCA,GACD,CACD,EAAE/H,KAAKlC,OACN8J,MAAM,SAASC,GACf,OAAOtK,EAAc0K,qBAAqBrF,KAAK9E,KAAM+J,EAAOC,QAASjB,EACtE,EAAE7G,KAAKlC,MACR,CACA,OAAOyJ,QAAQC,SAChB,EAEAS,qBAAsB,SAASC,EAAerB,GAC7C,OAAO3J,EAAMiL,eAAe,QAASD,EAAe,CACnDE,SAAU,uBAEVX,KAAK,WACL,IAAI9J,EAAWG,KAAKa,gBACpBhB,EAAS0K,wBAAwB,OACjC1K,EAAS2K,cAAc/K,EAAcC,iBACrCM,KAAKkK,SAASnB,GACd/I,KAAKgB,UAAUnB,EAChB,EAAEqC,KAAKlC,MACR,EAEA4J,iBAAkB,WACjB,IAAIa,EAAsBzK,KAAK0K,6BAA6B1K,KAAKa,iBACjE,IAAI8J,EAAgB3K,KAAK4K,UAAUH,GACnC,IAAIrI,EAAW3C,EAAcoF,6BAA6BC,KAAK9E,MAE/DhB,EAAaoD,EAAUpC,KAAK6K,cAAeF,EAC5C,EAEAzE,wBAAyB,SAAU6B,GAClC,OAAQA,EAAO+C,SACd,KAAKxL,EAASyL,MAEb/K,KAAKa,gBAAgB0J,wBAAwB,MAC7C,OAAO9K,EAAc8J,kBAAkBzE,KAAK9E,KAAM,KAAM+H,GACzD,KAAKzI,EAAS0L,OACbhL,KAAKa,gBAAgB2I,iBAAiB/J,EAAcC,iBACpDM,KAAKkK,SAAS,MACdzK,EAAc0I,gBAAgBrD,KAAK9E,KAAM+H,GACzC,MACD,KAAKzI,EAAS2L,OACd,KAAK3L,EAAS4L,UAEbzL,EAAc2G,iBAAiBtB,KAAK9E,KAAM+H,GAC1C,MACD,SAED,OAAO0B,QAAQC,SAChB,EAMA7E,6BAA8B,WAG7B,IAAIsG,EAAQnL,KAAKO,gBAAkBP,KAAKO,gBAAgB0B,YAAYmJ,OAAS,GAC7E,OAAOD,IAAU,GAAK3L,EAAgB2L,CACvC,EAMA/K,SAAU,SAAS2H,GAClB,IAAIlI,EAAWnB,IAAIC,GAAGkI,UAAUwE,KAAKtD,EAAOuD,cAAc3I,IAC1D,GAAI3C,KAAKE,gBAAgB,CAACL,MAAekI,EAAOwD,UAAYxD,EAAOyD,UAAYzD,EAAO0D,SAAU,CAC/FzL,KAAKgB,UAAUnB,GACfJ,EAAc0I,gBAAgBrD,KAAK9E,KAAM+H,EAC1C,CACD,EAEA2D,MAAO,WACN,GAAI1L,KAAKW,wBAAyB,CACjCX,KAAKkK,SAAS,MACf,CACD,GAED,OAAOzK,CACR,EAAG"}