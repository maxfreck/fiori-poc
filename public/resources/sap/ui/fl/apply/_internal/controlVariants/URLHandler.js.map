{"version":3,"file":"URLHandler.js","names":["sap","ui","define","Component","Utils","Log","deepEqual","merge","ObjectPath","isEmptyObject","ManagedObjectObserver","hasher","includes","VariantUtil","VariantManagementState","_mVariantIdChangeHandlers","URLHandler","_getUpdatedURLParameters","aNewHashParameters","oModel","aAddedVMReferences","reduce","oResultantParameters","sVariantReference","sVariantManagementReference","getVariantManagementReference","variantManagementReference","updateRequired","push","oData","currentVariant","defaultVariant","parameters","_checkAndUpdateURLParameters","oParsedHash","vRelevantParameters","get","VARIANT_TECHNICAL_PARAMETER","oUpdatedParameters","update","updateURL","_bDesignTimeMode","updateHashEntry","model","_handleVariantIdChangeInURL","sNewHash","oURLParsingService","getUShellService","oNewParsedHash","parseShellHash","oError","error","message","oShellNavigationService","NavigationFilterStatus","Continue","_registerNavigationFilter","sFlexReference","bind","registerNavigationFilter","_deRegisterNavigationFilter","unregisterNavigationFilter","setTechnicalURLParameterValues","mPropertyBag","oCrossApplicationNavigationService","getHash","params","mOldHashParams","Object","assign","mTechnicalParameters","oAppComponent","getComponentData","technicalParameters","warning","length","silent","changed","active","replaceHash","constructShellHash","toExternal","target","semanticObject","action","context","contextRaw","appSpecificRoute","writeHistory","getVariantIndexInURL","mReturnObject","index","mURLParameters","getStoredHashParams","Array","isArray","map","decodeURIComponent","some","sParamDecoded","iIndex","bVariantExistsForParameter","getVariant","vmReference","vReference","reference","oChangePersistence","getComponentName","isVariantParameterPresent","variantTechnicalParameterName","initialize","aParams","attachHandlers","updateVariantInURL","mUpdatedParameters","removeURLParameterForVariantManagement","aParameters","bIsDefaultVariant","newVReference","concat","slice","mVariantParametersInURL","splice","observerHandler","_oVariantSwitchPromise","then","_oHashData","controlPropertyObservers","forEach","oObserver","destroy","oComponentDestroyObserver","unobserve","observe","registerControl","variantControlIds","hashParams","info","prototype","call","handleModelContextChange","sContextChangeEvent","handleContextChange","oEvent","oParams","getVariantManagementReferenceForControl","getSource","aVariantManagements","indexOf","sVariantManagementToBeReset","switchToDefaultForVariantManagement","oControlPropertyObserver","current","old","object","attachEvent","detachEvent","vmControl","properties","getResetOnContextChange","clearAllVariantURLParameters"],"sources":["URLHandler-dbg.js"],"mappings":"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"}