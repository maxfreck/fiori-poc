{"version":3,"file":"PersistenceWriteAPI.js","names":["sap","ui","define","includes","_omit","Log","JsControlTreeModifier","FlexCustomData","ChangesController","DescriptorChangeTypes","ManifestUtils","Condenser","FlexObjectState","Storage","FeaturesAPI","FlexInfoSession","Layer","LayerUtils","Settings","PersistenceWriteAPI","isDescriptorChange","oChange","_getMap","getChangeTypes","changeType","getChangeType","hasChanges","mPropertyBag","includeCtrlVariants","invalidateCache","_getUIChanges","then","aChanges","length","hasDirtyChanges","hasDirtyFlexObjects","hasHigherLayerChanges","upToLayer","getCurrentLayer","getFlexObjects","aFlexObjects","filter","oFlexObject","isOverLayer","getLayer","aFilteredFlexObjects","save","saveFlexObjects","getResetAndPublishInfo","oResult","set","selector","Promise","all","isPublishAvailable","aResetPublishInfo","bHasChanges","bIsPublishAvailable","bIsLayerTransportable","layer","USER","PUBLIC","oFlexInfo","isResetEnabled","isPublishEnabled","allContextsProvided","getFlexInfo","oResponse","undefined","catch","oError","error","message","getResetAndPublishInfoFromSession","oControl","sParameter","getFlexReferenceForControl","JSON","parse","window","sessionStorage","getItem","reset","oAppComponent","getAppComponentForSelector","oFlexController","getFlexControllerInstance","aArguments","generator","selectorIds","changeTypes","resetChanges","apply","publish","styleClass","_oChangePersistence","transportAllUIChanges","appVariantDescriptors","add","change","store","addPreparedChange","remove","resolve","reject","Error","getId","oDescriptorFlexController","deleteChange","oElement","bySelector","getSelector","destroyAppliedCustomData","getChangesWarning","this","bHasChangesFromOtherSystem","some","isChangeFromOtherSystem","oSettingsInstance","getInstanceOrUndef","isProductiveSystemWithTransports","bHasNoChanges","oChangesWarning","showWarning","warningType","_condense","changes","Array","isArray","condense","currentLayer"],"sources":["PersistenceWriteAPI-dbg.js"],"mappings":"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"}