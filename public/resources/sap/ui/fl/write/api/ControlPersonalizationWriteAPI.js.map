{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Core","Element","FlexState","VariantUtils","ControlVariantApplyAPI","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","ChangesWriteAPI","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","getAllVariantManagementReferences","aVMControlIds","getAllVariantManagementControlIds","reduce","aValidIds","oForControls","byId","getFor","length","push","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oFlexController","createForControl","oVariantModel","getModel","getVariantModelName","USER","aSuccessfulChanges","createChanges","aChanges","pPromise","oPersonalizationChange","then","transient","ignoreVariantManagement","variantReference","sVariantManagementReference","useStaticArea","sCurrentVariantReference","oData","currentVariant","Object","assign","developerMode","layer","create","selector","oCreatedChange","addPreparedChange","changeInstance","catch","oError","message","applyChanges","setQueuedForApply","apply","change","oResult","success","deleteChange","initialize","componentId","getId","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","sLocalId","getLocalId","isInitialized","control","resetChanges","undefined","changeTypes","restore","removeDirtyChanges","generator","save","aVariantManagementReferences","saveSequenceOfDirtyChanges","oResponse","checkDirtyStateForControlModels","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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"}