/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/core/Element","sap/ui/testrecorder/Constants","sap/ui/testrecorder/interaction/Commands","sap/ui/testrecorder/interaction/CommandExecutor","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels"],function(e,t,o,i,n,s,r,c){"use strict";var a=5;var u=null;var d={};var f={};var l={};var p=t.extend("sap.ui.testrecorder.interaction.ContextMenu",{});p.show=function(t){d=t.domElementId;if(u===null&&!document.getElementById(i.CONTEXTMENU_ID)){u=h(t)}if(t.items){var n=Object.keys(f).filter(function(e){return!(t.items[e]||t.items[e]===undefined)});var s=Object.keys(f).filter(function(e){return t.items[e]||t.items[e]===undefined});if(n.length===Object.keys(f).length){this.hide();return this}n.forEach(function(e){f[e].hide()});s.forEach(function(e){f[e].show()})}var r=e(sap.ui.getCore().getStaticAreaRef());e.map(r.find(":visible"),function(e){var t=o.closestTo(e);if(t){if(t.oPopup&&t.oPopup.setAutoClose&&!l[t.getId()]){l[t.getId()]={autoClose:t.oPopup.getAutoClose()};t.oPopup.setAutoClose(false)}}});var c=e(window).width();var v=e(window).height();var E=u.width();var m=u.height();var b=t.location.x+E+a>=c?t.location.x-E:t.location.x;var x=t.location.y+m+a>=v?t.location.y-m:t.location.y;u.css("top",x+a+"px");u.css("left",b+a+"px");p._show();return this};p.hide=function(){if(u){u.hide()}Object.keys(l).forEach(function(e){var t=sap.ui.getCore().byId(e).oPopup;t.setAutoClose(l[e].autoClose);t._$().focus()});l={}};p._show=function(){if(u){u.show()}};function h(t){var o=e("<div></div>");var a=e("<div></div>");var u=e("<div></div>");var l=e("<div></div>");f={highlight:a,press:u,enterText:l};a.text("Highlight");u.text("Press");l.text("Enter Text");a.on("click",function(){p.hide();var e={domElementId:d};if(t.withEvents){r.publish(c.CONTEXT_MENU_HIGHLIGHT,e)}else{s.execute(n.HIGHLIGHT,e)}});u.on("click",function(){p.hide();var e={domElementId:d};if(t.withEvents){r.publish(c.CONTEXT_MENU_PRESS,e)}else{s.execute(n.PRESS,e)}});l.on("click",function(){p.hide();var e={domElementId:d};if(t.withEvents){r.publish(c.CONTEXT_MENU_ENTER_TEXT,e)}else{s.execute(n.ENTER_TEXT,e)}});o.attr("id",i.CONTEXTMENU_ID);o.css("min-width","150px");o.css("position","absolute");o.css("z-index",1001);o.css("border","1px solid rgb(200, 142, 250)");o.css("border-radius","3px");o.css("background","#fff");o.css("box-sizing","border-box");[a,l,u].forEach(function(e){e.css("padding","16px");e.css("cursor","pointer");e.on("mouseenter",function(){e.css("background-color","#ebf5fe")}).on("mouseleave",function(){e.css("background-color","transparent")})});[a,u].forEach(function(e){e.css("border-bottom","1px solid #d9d9d9")});o.append(a);o.append(u);o.append(l);e(document.body).append(o);return o}return p});
//# sourceMappingURL=ContextMenu.js.map