{"version":3,"file":"GrowingEnablement.js","names":["sap","ui","define","BaseObject","NumberFormat","library","ChangeReason","ManagedObjectMetadata","ManagedObjectObserver","HTML","CustomListItem","encodeXML","Core","jQuery","ListType","ListGrowingDirection","GrowingEnablement","extend","constructor","oControl","apply","this","_oControl","bUseExtendedChangeDetection","addDelegate","iRenderedItemsLength","getItems","length","_iRenderedDataItems","_iLimit","_bLoading","_sGroupingPath","_bDataRequested","_bSkippedItemsUpdateUntilDataReceived","_iLastItemsCount","_iTriggerTimer","_aChunk","_oRM","_aItemsPool","destroy","_oTrigger","_oScrollDelegate","setGrowingList","_oObserver","disconnect","clearItemsPool","$","remove","removeDelegate","render","oRm","openStart","getId","class","style","openEnd","renderControl","_getTrigger","close","onAfterRendering","getGrowingScrollToLoad","oScrollDelegate","getScrollDelegate","onScrollToLoad","bind","getGrowingDirection","_updateTrigger","_updateTriggerDelayed","onsapdown","oEvent","_oItemNavigation","isMarked","aItemDomRefs","getItemDomRefs","sDir","Upwards","type","target","$Trigger","trigger","setMarked","stopImmediatePropagation","getDomRef","onsapup","setTriggerText","sText","text","reset","bPageSizeOnly","oBindingInfo","getBindingInfo","oExtendedChangeDetectionConfig","template","replace","forEach","oItem","shouldReset","sChangeReason","mChangeReason","Sort","Filter","Context","getInfo","total","getMaxItemsCount","actual","oTriggerButton","display","_oScrollPosition","left","getScrollLeft","top","getScrollHeight","requestNewPage","oBinding","getBinding","isLengthFinal","_bBusy","getGrowingThreshold","updateItems","_onBeforePageLoaded","onBeforePageLoaded","_onAfterPageLoaded","onAfterPageLoaded","sTriggerID","sTriggerText","getGrowingTriggerText","getLibraryResourceBundle","getText","addNavSection","id","busyIndicatorDelay","Active","content","getList","TagName","setGroupedItem","setParent","attachPress","onsapenter","preventDefault","onsapspace","_bSpaceKeyPressed","setActive","onkeydown","_bSpaceKeyCancelled","shiftKey","which","onkeyup","$oTrigger","removeAttr","attr","tabindex","role","_getListItemInfo","aCounts","_getItemCounts","oFormat","getFloatInstance","format","_getGroupingPath","aSorters","oSorter","sPath","_getDomIndex","vIndex","hasPopin","_getHasScrollbars","window","innerHeight","getMaxScrollTop","offsetHeight","destroyListItems","bSuppressInvalidate","destroyItems","addListItem","oContext","binding","createListItem","isGrouped","aItems","oLastItem","sModelName","model","oGroupInfo","getGroup","getBindingContext","isGroupHeader","removeAggregation","setLastGroupHeader","_fnAppendGroupItem","appendGroupItem","key","oGroupHeader","groupHeaderFactory","getGroupHeaderTemplate","applyPendingGroupItem","oLastGroupHeader","getLastGroupHeader","invalidate","addAggregation","push","undefined","addItemGroup","fillItemsPool","oTemplate","i","iLimit","Math","min","factory","getCells","observe","aggregations","shift","setBindingContext","createItem","updateItemsBindingContext","aContexts","oModel","c","applyChunk","vInsert","bAsync","iTimer","_iChunkTimer","iLength","oDomRef","getItemsContainerDomRef","clearTimeout","shouldRenderItems","reverse","createRenderManager","_bHadFocus","contains","document","activeElement","flush","focus","getBusy","applyChunkAsync","_bApplyChunkAsync","setTimeout","addListItems","rebuildListItems","insertListItem","iIndex","insertAggregation","deleteListItem","refreshItems","isA","checkGrowingFromScratch","attachEventOnce","getContexts","sGroupingPath","dataRequested","diff","aDiff","shouldGrowingSuppressInvalidation","bFromScratch","vInsertIndex","oDiff","index","removeGroupHeaders","iLastInsertIndex","iDiffIndex","_onBindingDataReceivedListener","getParameter","bLoading","oTrigger","bVisibleItems","getVisibleItems","setBusy","toggleClass","css","iItemsLength","iBindingLength","getLength","bLengthFinal","bHasScrollToLoad","oTriggerDomRef","getNavigationRoot","oFocusTarget","removeClass","oBundle","addClass","adaptTriggerButtonWidth","oScrollPosition","scrollTo","shouldRenderDummyColumn","hasClass","requestAnimationFrame","bIsDestroyed","sCalWidth","Array","from","childNodes","slice","map","sWidth","getAttribute","includes","getBoundingClientRect","width","join","classList","add","sIdSuffix","uid"],"sources":["GrowingEnablement-dbg.js"],"mappings":"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"}